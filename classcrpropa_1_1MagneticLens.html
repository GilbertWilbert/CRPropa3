<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CRPropa 3: MagneticLens Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CRPropa 3
   </div>
   <div id="projectbrief">Propagation of ultra-relativistic particles through galactic and extragalactic space</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>crpropa</b></li><li class="navelem"><a class="el" href="classcrpropa_1_1MagneticLens.html">MagneticLens</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcrpropa_1_1MagneticLens-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MagneticLens Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a643cd62aed5c704da458d60bb603c326"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a643cd62aed5c704da458d60bb603c326"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a643cd62aed5c704da458d60bb603c326">MagneticLens</a> ()</td></tr>
<tr class="memdesc:a643cd62aed5c704da458d60bb603c326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a643cd62aed5c704da458d60bb603c326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fe2b9e680ef54314604383f4ad5543"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00fe2b9e680ef54314604383f4ad5543"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a00fe2b9e680ef54314604383f4ad5543">MagneticLens</a> (uint8_t healpixorder)</td></tr>
<tr class="memdesc:a00fe2b9e680ef54314604383f4ad5543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs lens with predefined healpix order. <br /></td></tr>
<tr class="separator:a00fe2b9e680ef54314604383f4ad5543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8b3bb801ef96e978ddab414f8535cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe8b3bb801ef96e978ddab414f8535cc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#afe8b3bb801ef96e978ddab414f8535cc">MagneticLens</a> (const string &amp;filename)</td></tr>
<tr class="memdesc:afe8b3bb801ef96e978ddab414f8535cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct lens and load lens from file. <br /></td></tr>
<tr class="separator:afe8b3bb801ef96e978ddab414f8535cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf0dc0125c88bfc2053f0e8550b5256"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abcf0dc0125c88bfc2053f0e8550b5256"></a>
const <a class="el" href="classcrpropa_1_1Pixelization.html">Pixelization</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#abcf0dc0125c88bfc2053f0e8550b5256">getPixelization</a> () const </td></tr>
<tr class="memdesc:abcf0dc0125c88bfc2053f0e8550b5256"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pixelization used. <br /></td></tr>
<tr class="separator:abcf0dc0125c88bfc2053f0e8550b5256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c98dc48a252726583c5c23ada3d358"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38c98dc48a252726583c5c23ada3d358"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a38c98dc48a252726583c5c23ada3d358">~MagneticLens</a> ()</td></tr>
<tr class="memdesc:a38c98dc48a252726583c5c23ada3d358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor. <br /></td></tr>
<tr class="separator:a38c98dc48a252726583c5c23ada3d358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7854f867ce85aed7cf05a4de7e3aae16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a7854f867ce85aed7cf05a4de7e3aae16">transformCosmicRay</a> (double rigidity, double &amp;phi, double &amp;theta)</td></tr>
<tr class="separator:a7854f867ce85aed7cf05a4de7e3aae16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf082f466e832093d83553dcc1d90908"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf082f466e832093d83553dcc1d90908"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#aaf082f466e832093d83553dcc1d90908">transformCosmicRay</a> (double rigidity, <a class="el" href="classcrpropa_1_1Vector3.html">Vector3d</a> &amp;p)</td></tr>
<tr class="memdesc:aaf082f466e832093d83553dcc1d90908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries transform a cosmic ray with momentum vector p. <br /></td></tr>
<tr class="separator:aaf082f466e832093d83553dcc1d90908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28de5ba79d438d7dc3e574049ec5b01f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a28de5ba79d438d7dc3e574049ec5b01f">transformModelVector</a> (double *model, double rigidity) const </td></tr>
<tr class="separator:a28de5ba79d438d7dc3e574049ec5b01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6860693addc8f4585314d4a2456129"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#ade6860693addc8f4585314d4a2456129">setLensPart</a> (const ModelMatrixType &amp;M, double rigidityMin, double rigidityMax)</td></tr>
<tr class="separator:ade6860693addc8f4585314d4a2456129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47603966d403181b3bfd4577f4142ab3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a47603966d403181b3bfd4577f4142ab3">loadLens</a> (const string &amp;filename)</td></tr>
<tr class="separator:a47603966d403181b3bfd4577f4142ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae988fb8fef9974c11ef93767120e6df5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#ae988fb8fef9974c11ef93767120e6df5">normalizeLens</a> ()</td></tr>
<tr class="separator:ae988fb8fef9974c11ef93767120e6df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e75afd0737b2785de34fe0906dcf8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a46e75afd0737b2785de34fe0906dcf8a">normalizeLensparts</a> ()</td></tr>
<tr class="separator:a46e75afd0737b2785de34fe0906dcf8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8297f36f56469580f57efb1719de16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a8297f36f56469580f57efb1719de16"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#a7a8297f36f56469580f57efb1719de16">rigidityCovered</a> (double rigidity) const </td></tr>
<tr class="memdesc:a7a8297f36f56469580f57efb1719de16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if rigidity [Joule] is covered by lens. <br /></td></tr>
<tr class="separator:a7a8297f36f56469580f57efb1719de16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d2ede0ccac44aa936592ea2c37d21d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#aa4d2ede0ccac44aa936592ea2c37d21d">normalizeMatrixColumns</a> ()</td></tr>
<tr class="separator:aa4d2ede0ccac44aa936592ea2c37d21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa143e3fdec40f25b40f4bb08a9608fe1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa143e3fdec40f25b40f4bb08a9608fe1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#aa143e3fdec40f25b40f4bb08a9608fe1">getMinimumRigidity</a> () const </td></tr>
<tr class="memdesc:aa143e3fdec40f25b40f4bb08a9608fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns minimum rigidity covered by lens, in eV. <br /></td></tr>
<tr class="separator:aa143e3fdec40f25b40f4bb08a9608fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac814fd2680bffcc16172c431dbed079a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac814fd2680bffcc16172c431dbed079a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#ac814fd2680bffcc16172c431dbed079a">getMaximumRigidity</a> () const </td></tr>
<tr class="memdesc:ac814fd2680bffcc16172c431dbed079a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns maximum rigidity covered by lens, in eV. <br /></td></tr>
<tr class="separator:ac814fd2680bffcc16172c431dbed079a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e66e331583b40489d851550d3e81a45"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e66e331583b40489d851550d3e81a45"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getNorm</b> ()</td></tr>
<tr class="separator:a3e66e331583b40489d851550d3e81a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38bdf7a39f23012159cbef11217a0cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae38bdf7a39f23012159cbef11217a0cb"></a>
<a class="el" href="classcrpropa_1_1LensPart.html">LensPart</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#ae38bdf7a39f23012159cbef11217a0cb">getLensPart</a> (double rigidity) const </td></tr>
<tr class="memdesc:ae38bdf7a39f23012159cbef11217a0cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns iterator to the lens part with rigidity Joule. <br /></td></tr>
<tr class="separator:ae38bdf7a39f23012159cbef11217a0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde36d3655b92b2dfb03c062b6ee2730"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afde36d3655b92b2dfb03c062b6ee2730"></a>
const std::vector&lt; <a class="el" href="classcrpropa_1_1LensPart.html">LensPart</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrpropa_1_1MagneticLens.html#afde36d3655b92b2dfb03c062b6ee2730">getLensParts</a> () const </td></tr>
<tr class="memdesc:afde36d3655b92b2dfb03c062b6ee2730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all lens parts. <br /></td></tr>
<tr class="separator:afde36d3655b92b2dfb03c062b6ee2730"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The lens for the galactic magnetic field. Note that the energies refer to protons (Z=1). To be used with other particles with a different charge number please select the rigidity accordingly. </p>

<p>Definition at line <a class="el" href="MagneticLens_8h_source.html#l00142">142</a> of file <a class="el" href="MagneticLens_8h_source.html">MagneticLens.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a47603966d403181b3bfd4577f4142ab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadLens </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a lens from a given file, containing lines like lensefile.MLDAT rigidityMin rigidityMax rigidities are given in logarithmic units [log10(E / eV)] </p>

</div>
</div>
<a class="anchor" id="ae988fb8fef9974c11ef93767120e6df5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normalizeLens </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normalizes the lens parts to the maximum of sums of columns of every lenspart. By doing this, the lens won't distort the spectrum </p>

</div>
</div>
<a class="anchor" id="a46e75afd0737b2785de34fe0906dcf8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normalizeLensparts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normalizes the lens parts individually. Normalized this way, the lens generally distorts the spectrum of the sources, but deflects the UHECR more efficiently. </p>

</div>
</div>
<a class="anchor" id="aa4d2ede0ccac44aa936592ea2c37d21d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normalizeMatrixColumns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normalizes all matrix columns - the lens will then create fake anisotropies, but won't drop particles </p>

</div>
</div>
<a class="anchor" id="ade6860693addc8f4585314d4a2456129"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setLensPart </td>
          <td>(</td>
          <td class="paramtype">const ModelMatrixType &amp;&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rigidityMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rigidityMax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads M as part of a lens and use it in given rigidity range with rigidities given in Joule </p>

</div>
</div>
<a class="anchor" id="a7854f867ce85aed7cf05a4de7e3aae16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool transformCosmicRay </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rigidity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>phi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>theta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to transform the comsic ray to a new direction. Returns false and does not change phi and theta if the cosmic ray is lost due to conservation of cosmic ray flux. Rigidity is given in Joule, phi and theta in rad </p>

</div>
</div>
<a class="anchor" id="a28de5ba79d438d7dc3e574049ec5b01f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void transformModelVector </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rigidity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>transforms the model array assuming that model points to an array of the correct size. Rigidity is given in Joule </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="MagneticLens_8h_source.html">MagneticLens.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 16 2016 15:10:38 for CRPropa 3 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
